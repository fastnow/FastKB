## 更新说明

1. 宏录制功能全面增强

- 流程编辑面板：录制结束后自动弹出独立的宏编辑面板，或点击“编辑宏流程”按钮手动打开
- 步骤参数自定义：每个步骤可独立设置：
  - 类型：按下、抬起、长按
  - 按键和键码
  - 长按持续时间（0-5000ms）
  - 连发CPS（每秒点击次数）
  - 步骤后延时（0-5000ms）
- 步骤管理：支持上下移动步骤顺序、删除步骤
- 智能播放：根据步骤参数执行对应的操作（按下/抬起/长按/连发）

2. 按钮编辑栏功能扩展

- 独立连发配置：每个按钮可单独启用连发，并设置独立的CPS值
- 长按模式：新增“长按模式”选项，按下时持续触发按键
- 更多自定义选项：在原有尺寸、颜色、映射基础上增加了高级功能配置

3. 稳定性修复

- 修复“undefined”配置文件问题：加载配置时自动清理profiles对象中可能存在的"undefined"配置
- 默认设置完整显示：确保连发CPS、随机偏移、宏播放间隔等所有默认配置正确加载和显示
- 编辑栏打开时禁止按钮移动：使用全局editorOpen标志彻底解决按钮误触问题
- 设置面板滑动优化：阻止设置面板滑动导致页面滚动，同时允许滑块等内部交互

4. 自适应布局优化

- 默认按钮位置自适应屏幕：首次加载时自动将按钮布局在屏幕内（WASD左下、方向键右下、空格ESC居中偏下）
- 窗口大小变化自适应：当窗口大小改变时，自动重新布局（仅默认配置且非编辑模式下）

5. 声音系统优化

- 全局AudioContext复用：解决点击多次后声音消失的问题
- 自动恢复：当AudioContext被挂起时自动恢复，确保每次点击都有声音

## 如何使用新功能

### 宏流程编辑

1. 打开设置面板 → 点击“宏”标签页
2. 点击“录制宏”开始录制，再次点击结束录制
3. 录制结束后自动弹出编辑面板，或手动点击“编辑宏流程”打开
4. 在编辑面板中可修改每个步骤的参数，调整顺序
5. 点击“播放宏”按新配置执行

### 按钮独立连发

1. 开启编辑模式
2. 双击任意按钮打开编辑栏
3. 在底部“高级”区域勾选“启用连发”，设置CPS值
4. 可选择“长按模式”让按下时持续触发

## 兼容性

- 完全兼容旧版本保存的配置
- 新增的功能字段（turboEnabled、turboCPS、hold）在旧配置中自动初始化为默认值
- 自动清理可能存在的“undefined”配置文件，避免加载错误